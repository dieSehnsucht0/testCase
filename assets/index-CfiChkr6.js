import{u as A,r as g,w as Se,o as N,c as v,a as e,t as w,F as z,b as K,d as J,e as n,f as Q,g as he,v as Hs,h as Ie,n as ee,i as ce,j as Ds,k as $,l as I,m as ue,p as ae,q as Ms,s as X,x as Re,y as de,T as fe,z as xs,A as Rs,B as Os,C as Vs,D as j,E as lt,G as zs,H as Ns,I as qs,J as Fs,K as Us,L as Js}from"./vue-DQHvLxhN.js";import{X as U,_ as L,Y as rt,Z as Ws,$ as Gs}from"./vendor-bv0qEdND.js";import{p as Ks,G as Qs,g as Zs}from"./pdfjs-BLF2XhLF.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))r(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const c of m.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function l(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function r(d){if(d.ep)return;d.ep=!0;const m=l(d);fetch(d.href,m)}})();const Z=(f,o)=>{const l=f.__vccOpts||f;for(const[r,d]of o)l[r]=d;return l},Ys={class:"modal-container"},Xs={class:"modal-header"},ea={class:"modal-body"},ta={class:"settings-section"},sa={class:"language-options"},aa=["value"],na={__name:"SettingsModal",emits:["close"],setup(f,{emit:o}){const{t:l}=A(),r=g("zh-Hans"),d=o,{locale:m}=A(),c=g([{label:"简体中文",value:"zh-Hans",font:"SC_Font"},{label:"繁體中文",value:"zh-Hant",font:"TC_Font"},{label:"English",value:"en",font:"EN_Font"},{label:"日本語",value:"jp",font:"JP_Font"}]);Se(r,i=>{const y=c.value.find(P=>P.value===i).font;document.documentElement.style.setProperty("--main-font",y),m.value=i,localStorage.setItem("selectedLanguage",i),localStorage.setItem("selectedFont",y)}),N(()=>{const i=localStorage.getItem("selectedLanguage")||"zh-Hans";r.value=i,m.value=i});const C=()=>{d("close")};return(i,y)=>(n(),v("div",{class:"modal-mask",onClick:J(C,["self"])},[e("div",Ys,[e("div",Xs,[e("h3",null,w(i.$t("settings")),1),e("button",{class:"close-btn",onClick:C},"×")]),e("div",ea,[e("div",ta,[e("h4",null,w(i.$t("languageSetting")),1),e("div",sa,[(n(!0),v(z,null,K(c.value,P=>(n(),v("label",{key:P.value},[Q(e("input",{type:"radio","onUpdate:modelValue":y[0]||(y[0]=_=>r.value=_),value:P.value},null,8,aa),[[Hs,r.value]]),he(" "+w(P.label),1)]))),128))])])])])]))}},oa=Z(na,[["__scopeId","data-v-4db1c8a5"]]),Lt=`# 欢迎使用本应用\r
\r
目前是这样\r
\r
所用的功能和ai都是示例\r
\r
界面中的字体主要是日语字体的\r
\r
有些字对应的是 ***日语汉字***\r
\r
所以不要觉得太奇怪\r
\r
## ***挂着梯子或者用流量似乎是没有输出的***\r
\r
---\r
\r
## 分体聊天使用说明\r
\r
***每一个界的右上角都有详细的使用说明书***\r
\r
## 多体讨论使用说明\r
\r
在右侧的选择栏选择智能体进行讨论\r
\r
目前可以无限讨论\r
\r
点击暂停按钮会终止当前ai的输出，但并不能终止讨论\r
\r
点击终止讨论才能终止输出\r
\r
(此时该按钮变成继续讨论按钮)\r
\r
用户可以继续输入内容\r
\r
(不输入好像也可以继续讨论，但是可能会有bug)\r
\r
然后继续讨论\r
\r
## 智能并行使用说明\r
\r
输入一句话，选择的所有角色将同时作出个性化回应。\r
\r
可一键展开/折叠查看各角色回复，便于比较风格、语气、用词差异。\r
\r
没搞得实时响应\r
\r
要点展开/折叠按钮才能刷新\r
\r
祝您使用愉快！\r
`,la=Object.freeze(Object.defineProperty({__proto__:null,default:Lt},Symbol.toStringTag,{value:"Module"})),Ht=`# 欢迎大家给出批评和建议\r
\r
就这样\r
\r
本来是比赛项目的\r
\r
非常感谢组员的帮助\r
\r
整个制作过程还是挺赶的\r
\r
但其实这个顶多还只是一个试验品\r
\r
就是一个框架\r
\r
换一批ai，不用日语啥的就是另外一个项目了\r
\r
完全可以加几十个角色进去\r
\r
完全可以改成别的功能\r
\r
只是现在懒得改了哈哈\r
\r
先准备期考\r
\r
---\r
\r
***游戏还没做完***\r
\r
感兴趣的之后可以找我\r
\r
不过估计要等到***6月底***才能做完\r
\r
就先这样了\r
\r
---\r
\r
感觉收获最大的就是\r
\r
用课外时间学了差不多两个月\r
\r
一个人搞了全栈开发、部署运维和App封装\r
\r
还有无限输出，同时输出\r
\r
2025.6.4\r
\r
HC\r
`,ra=Object.freeze(Object.defineProperty({__proto__:null,default:Ht},Symbol.toStringTag,{value:"Module"})),ia={class:"modal-container"},ca={class:"modal-header"},ua={class:"modal-body vertical-layout"},da={class:"top-tabs"},va=["onClick"],ma={class:"content-area"},pa={class:"tab-content"},ga=["innerHTML"],ha={__name:"HelpModal",emits:["close"],setup(f,{emit:o}){const{t:l}=A(),r=o,d=g("statement"),m=[{id:"statement",title:l("modals.help.tabs.feedback")},{id:"guide",title:l("modals.help.tabs.manual")}],c={statement:Ht,guide:Lt},C=Ie(()=>U(c[d.value])),i=()=>{r("close")};return(y,P)=>(n(),v("div",{class:"modal-mask",onClick:J(i,["self"])},[e("div",ia,[e("div",ca,[e("h3",null,w(y.$t("modals.help.title")),1),e("button",{class:"close-btn",onClick:i},"×")]),e("div",ua,[e("div",da,[(n(),v(z,null,K(m,_=>e("button",{key:_.id,onClick:T=>d.value=_.id,class:ee({active:d.value===_.id})},w(_.title),11,va)),64))]),e("div",ma,[e("div",pa,[e("div",{class:"scroll-content",innerHTML:C.value},null,8,ga)])])])])]))}},fa=Z(ha,[["__scopeId","data-v-55c2a567"]]),_a={class:"modal-container download-modal"},ka={class:"modal-header"},ba={class:"modal-body"},Ca={class:"download-content"},ya={__name:"DownloadModal",emits:["close"],setup(f,{emit:o}){const l=o,{t:r}=A(),d=()=>{window.open("https://github.com/dieSehnsucht0/testCase/releases/download/app/testCase.apk","_blank")},m=()=>{l("close")};return(c,C)=>{const i=Ds("font-awesome-icon");return n(),v("div",{class:"modal-mask",onClick:J(m,["self"])},[e("div",_a,[e("div",ka,[e("h3",null,w(c.$t("modals.download.title")),1),e("button",{class:"close-btn",onClick:m},"×")]),e("div",ba,[e("div",Ca,[ce(i,{icon:["fab","android"],class:"icon-android"}),e("button",{class:"download-btn",onClick:d},w(c.$t("modals.download.android")),1)])])])])}}},$a=Z(ya,[["__scopeId","data-v-e7ff4d56"]]),wa={id:"welcome-screen",class:"screen"},ja={class:"lefttop-container"},Ta={class:"leftbottom-container"},Ba={class:"container"},Sa={class:"subtitle"},Ia={class:"welcome-group-btn"},Aa={__name:"WelcomeScreen",setup(f){const o=g(!1),l=g(!1),r=g(!1),{t:d}=A();return(m,c)=>(n(),v("section",wa,[e("div",ja,[e("button",{class:"settings-btn",onClick:c[0]||(c[0]=C=>o.value=!0)},c[9]||(c[9]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor","stroke-width":"2"}),e("path",{d:"M19.4 15C18.85 13.75 18.85 12.25 19.4 11L21.5 7.5C19.5 5.25 16.5 4 13.4 4L10.6 4C7.5 4 4.5 5.25 2.5 7.5L4.6 11C5.15 12.25 5.15 13.75 4.6 15L2.5 18.5C4.5 20.75 7.5 22 10.6 22L13.4 22C16.5 22 19.5 20.75 21.5 18.5L19.4 15Z",stroke:"currentColor","stroke-width":"2"})],-1)])),e("button",{class:"settings-btn",style:{top:"50px"},onClick:c[1]||(c[1]=C=>l.value=!0)},c[10]||(c[10]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"2"}),e("path",{d:"M12 16V12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"}),e("path",{d:"M12 8H12.01",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)]))]),e("div",Ta,[e("button",{class:"download-btn",onClick:c[2]||(c[2]=C=>r.value=!0)},c[11]||(c[11]=[e("i",{class:"fas fa-android"},null,-1)]))]),e("div",Ba,[e("h1",null,w(m.$t("welcome.title")),1),e("p",Sa,w(m.$t("welcome.subtitle")),1),e("div",Ia,[e("button",{id:"smart-parallel-btn",class:"anime-btn",onClick:c[3]||(c[3]=C=>m.$emit("smart-parallel"))},w(m.$t("welcome.smartParallelBtn")),1),e("button",{id:"start-btn",class:"anime-btn",onClick:c[4]||(c[4]=C=>m.$emit("start"))},w(m.$t("welcome.startBtn")),1),e("button",{id:"quick-chat-btn",class:"anime-btn",onClick:c[5]||(c[5]=C=>m.$emit("quick-chat"))},w(m.$t("welcome.quickChatBtn")),1)])]),c[12]||(c[12]=e("div",{class:"footer-copyright"}," ©️CabbageGroup-All Rights Reserved,led by HC ",-1)),o.value?(n(),$(oa,{key:0,onClose:c[6]||(c[6]=C=>o.value=!1)})):I("",!0),l.value?(n(),$(fa,{key:1,onClose:c[7]||(c[7]=C=>l.value=!1)})):I("",!0),r.value?(n(),$($a,{key:2,onClose:c[8]||(c[8]=C=>r.value=!1)})):I("",!0)]))}},Dt=Z(Aa,[["__scopeId","data-v-3a58480b"]]),it="/testCase/assets/soul-CbzfVuhH.jpg",ct="/testCase/assets/soul-CbzfVuhH.jpg",ut="/testCase/assets/soul-CbzfVuhH.jpg",dt="/testCase/assets/soul-CbzfVuhH.jpg",vt="/testCase/assets/soul-CbzfVuhH.jpg",mt="/testCase/assets/fujii-T--k3L0g.jpg",pt="/testCase/assets/fujisaki-Ch2P9EZi.jpg",gt="/testCase/assets/soul-CbzfVuhH.jpg",ht="/testCase/assets/soul-CbzfVuhH.jpg",ft="/testCase/assets/soul-CbzfVuhH.jpg",_t="/testCase/assets/jinguji-CJD_HdCm.jpg",kt="/testCase/assets/soul-CbzfVuhH.jpg",bt="/testCase/assets/soul-CbzfVuhH.jpg",Ct="/testCase/assets/nakamura-NUGIdse9.jpg",yt="/testCase/assets/soul-CbzfVuhH.jpg",$t="/testCase/assets/sato-BzrpPHDf.jpg",wt="/testCase/assets/soul-CbzfVuhH.jpg",jt="/testCase/assets/soul-CbzfVuhH.jpg",Tt="/testCase/assets/soul-CbzfVuhH.jpg",Bt="/testCase/assets/soul-CbzfVuhH.jpg",St="/testCase/assets/takahashi-SsINVf1H.jpg",It="/testCase/assets/tanaka-C3SqWxLW.jpg",At="/testCase/assets/soul-CbzfVuhH.jpg",Pt="/testCase/assets/yamada-DD51_7wR.jpg",Et="/testCase/assets/yamamoto-FR78TbMO.jpg",Pa={class:"thinking-indicator"},Ea=["src"],La={class:"thinking-text"},Ha={class:"thinking-time"},Da={__name:"ThinkingIndicator",props:["show","avatar","time"],setup(f){const{t:o}=A();return(l,r)=>Q((n(),v("div",Pa,[e("img",{src:f.avatar,class:"thinking-avatar",alt:"Agent Avatar"},null,8,Ea),e("span",La,w(l.$t("thinking"))+"🧠",1),e("span",Ha,w(f.time),1)],512)),[[ue,f.show]])}},Ma=Z(Da,[["__scopeId","data-v-3e1005d7"]]),xa=(f,o,l)=>{const r=f[o];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((d,m)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(m.bind(null,new Error("Unknown variable dynamic import: "+o+(o.split("/").length!==l?". Note that variables only represent file names one level deep.":""))))})},Ra={class:"modal-container guide-modal"},Oa={class:"modal-header"},Va=["innerHTML"],za={__name:"GuideModal",props:{mode:String},emits:["close"],setup(f,{emit:o}){const l=f,r=o,d=g(""),m=Ie(()=>`${{correction:"语言纠错",soul:"心灵空间",misheard:"空耳查询",stem:"科学世界",culture:"文化探索",dialect:"方言探索","super-translate":"翻译大师","game-misheard":"空耳游戏","game-word":"字词游戏","dream-weaver":"梦境编织","fantasy-master":"幻想世界","glitch-space":"失控空间","ln-factory":"小说工坊","self-splitter":"拆解空间",unconscious:"潜灵空间","proto-jin":"言灵法师"}[l.mode]}使用指南`);N(async()=>{try{const C=await xa(Object.assign({"../../../assets/help/correction.md":()=>L(()=>import("./correction-D-BGK6kL.js"),[]),"../../../assets/help/culture.md":()=>L(()=>import("./culture-DgRzrv1B.js"),[]),"../../../assets/help/dialect.md":()=>L(()=>import("./dialect-CSONmfE3.js"),[]),"../../../assets/help/dream-weaver.md":()=>L(()=>import("./dream-weaver-CPkawPmW.js"),[]),"../../../assets/help/fantasy-master.md":()=>L(()=>import("./fantasy-master-BITxEbIv.js"),[]),"../../../assets/help/game-misheard.md":()=>L(()=>import("./game-misheard-EJK3yRCy.js"),[]),"../../../assets/help/game-word.md":()=>L(()=>import("./game-word-DtkOsAEX.js"),[]),"../../../assets/help/glitch-space.md":()=>L(()=>import("./glitch-space-zUXcL1nw.js"),[]),"../../../assets/help/guide.md":()=>L(()=>Promise.resolve().then(()=>la),void 0),"../../../assets/help/ln-factory.md":()=>L(()=>import("./ln-factory-CBQ243c4.js"),[]),"../../../assets/help/misheard.md":()=>L(()=>import("./misheard-DHZnS-sn.js"),[]),"../../../assets/help/proto-jin.md":()=>L(()=>import("./proto-jin-BEUqkyjx.js"),[]),"../../../assets/help/self-splitter.md":()=>L(()=>import("./self-splitter-RL5uzgwK.js"),[]),"../../../assets/help/soul.md":()=>L(()=>import("./soul-DBwKHDHr.js"),[]),"../../../assets/help/statement.md":()=>L(()=>Promise.resolve().then(()=>ra),void 0),"../../../assets/help/stem.md":()=>L(()=>import("./stem--d_cXEPd.js"),[]),"../../../assets/help/super-translate.md":()=>L(()=>import("./super-translate-BYTcdMF5.js"),[]),"../../../assets/help/unconscious.md":()=>L(()=>import("./unconscious-501-P2cN.js"),[])}),`../../../assets/help/${l.mode}.md`,6);d.value=U.parse(C.default)}catch{d.value="<p>使用说明加载中...</p>"}});const c=()=>{r("close")};return(C,i)=>(n(),v("div",{class:"modal-mask",onClick:J(c,["self"])},[e("div",Ra,[e("div",Oa,[e("h3",null,w(m.value),1),e("button",{class:"close-btn",onClick:c},"×")]),e("div",{class:"modal-body",innerHTML:d.value},null,8,Va)])]))}},Na=Z(za,[["__scopeId","data-v-098b46a0"]]),qa=["id"],Fa={key:1,class:"file-modal"},Ua={class:"modal-content"},Ja=["src"],Wa=["placeholder"],Ga={class:"lefttop-container"},Ka={class:"lefttop-first-container"},Qa={class:"lefttop-second-container"},Za={class:"session-sidebar"},Ya={class:"sessions-header"},Xa={key:0,class:"bg-options-menu"},en={class:"sessions-list-container"},tn={class:"sessions-list"},sn=["onClick"],an={class:"session-time"},nn=["onClick"],on={class:"righttop-container"},ln={class:"chat-container"},rn={key:0,class:"message user-message fade-in"},cn={key:0,class:"attached-files"},un={class:"user-message-content",style:{"white-space":"pre-wrap"}},dn={key:1},vn={key:0,class:"parallel-agent-message fade-in"},mn=["onClick"],pn=["src"],gn={class:"agent-name"},hn={class:"expand-btn"},fn={key:0,class:"agent-message-bubble stream-container"},_n=["innerHTML"],kn=["onClick"],bn={class:"translation-container"},Cn={key:0,class:"translation-content"},yn={class:"translation-text"},$n=["onClick","disabled"],wn={key:1,class:"agent-message-with-avatar fade-in"},jn=["src"],Tn={class:"agent-info"},Bn={class:"agent-message-bubble stream-container"},Sn=["innerHTML"],In=["onClick"],An={class:"translation-container"},Pn={key:0,class:"translation-content"},En={class:"translation-text"},Ln=["onClick","disabled"],Hn={key:0,class:"file-previews"},Dn={class:"card-header"},Mn={class:"file-meta"},xn={class:"file-name"},Rn={class:"file-size"},On={class:"file-actions"},Vn=["onClick"],zn=["onClick"],Nn=["onClick"],qn={class:"input-area"},Fn=["onKeypress","disabled"],Un={class:"input-tools"},Jn=["disabled"],Wn={key:0,class:"fas fa-pause"},Gn={key:1,class:"fas fa-comments"},Kn={key:2,class:"fas fa-paper-plane"},Qn={key:1,class:"discussion-controls"},Zn={key:0,class:"discussion-controls"},Yn={key:0,class:"fas fa-play"},Xn={key:1,class:"fas fa-comments"},Oe="https://ds.1343263.xyz/api/process",eo={__name:"BaseChat",props:{chatId:String,chatTitle:String,defaultBg:{type:String,required:!0},avatarPath:{type:String,required:!0},mode:String,selectedAgents:{type:Array,default:()=>[]}},emits:["back"],setup(f,{expose:o,emit:l}){const{t:r}=A();Qs.workerSrc=Ks;const d=g(!1),m=g(null),c=g(""),C=g(!0),i=g(!1),y=Ie(()=>!["group-discussion","zero","smart-parallel"].includes(k.mode)),P=g(null),_=g(!1),T=g(!1),F=g(0),k=f,ve=g(!1),_e=g("#ffffff"),us=s=>{oe.value.startsWith("blob:")&&URL.revokeObjectURL(oe.value),document.getElementById(k.chatId).style.backgroundImage="none",document.getElementById(k.chatId).style.backgroundColor=s,localStorage.setItem(`${k.chatId}-bg-type`,"color"),localStorage.setItem(`${k.chatId}-bg`,s),oe.value=s,ve.value=!1},ze=s=>{const t=document.querySelector(".bg-options-menu"),p=document.querySelector(".color-picker-container"),a=s.target.closest('input[type="color"]');t&&!t.contains(s.target)&&p&&!p.contains(s.target)&&!a&&(ve.value=!1)};N(()=>{document.addEventListener("click",ze)}),N(()=>{const s=sessionStorage.getItem("chatScrollPosition");s&&M.value&&(M.value.scrollTop=parseInt(s))}),ae(()=>{document.removeEventListener("click",ze)});const ds=()=>{ne.value||k.selectedAgents.length>=2&&_.value?(ps(),k.selectedAgents.length>=2&&(T.value=!0)):$e()};function vs(s){const t=k.selectedAgents.find(p=>p.mode===s);return t?t.name:s}async function ms(s){s.isExpanded=!s.isExpanded,await X(),le&&le()}const ps=()=>{if(d.value=!0,m.value){m.value.abort(),m.value=null;const t=E[q.value].messages.findLast(p=>p.sender==="agent"&&!p.finished);t&&(t.finished=!0,t.html=U.parse(t.content))}c.value=""};async function Ne(s){if(s.translation){s.showTranslation=!s.showTranslation;return}s.translating=!0,s.showTranslation=!0;try{const t=await fetch(Oe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inputText:s.content,agentMode:"only-translate",history:[]})});if(!t.ok)throw new Error("翻译请求失败");const p=t.body.getReader(),a=new TextDecoder;let h="";for(;;){const{done:b,value:u}=await p.read();if(b)break;const x=a.decode(u).split(`
`);for(const S of x){if(!S.trim())continue;const O=JSON.parse(S);if(O.error)throw new Error(O.error);h+=O.content}}s.translation=h}catch(t){W("翻译失败: "+t.message),s.showTranslation=!1}finally{s.translating=!1}}const gs=()=>{d.value=!1,$e(c.value)},W=Vs("showToast"),qe=g(null),Fe=g(!1),te=g(k.mode),Y=g([k.avatarPath]),ge=g(0),V=g([]),G=g(""),ne=g(!1),me=g("0.0s"),Ue=g(null),E=Ms([]),q=g(0),M=g(null),Ae=g(!0),hs=g(null),ke=g(!1),Je=g(""),Pe=g(""),be=g(""),Ee=g(-1),Ce=g(!1),oe=g(k.defaultBg),We=g(null),fs=g(k.defaultBg),Ge=Ie(()=>`${k.chatId}-sessions`),_s=()=>{try{const s=localStorage.getItem(Ge.value);s&&(E.splice(0,E.length,...JSON.parse(s).map(t=>({...t,startTime:new Date(t.startTime),messages:t.messages.map(p=>({...p,timestamp:p.timestamp?new Date(p.timestamp):new Date}))}))),q.value=E.length>0?0:-1)}catch(s){console.error("读取会话失败:",s)}},Ke=()=>{try{const s=E.map(t=>({...t,startTime:t.startTime.getTime(),messages:t.messages.map(p=>{var a;return{...p,timestamp:((a=p.timestamp)==null?void 0:a.getTime())||Date.now()}})}));localStorage.setItem(Ge.value,JSON.stringify(s))}catch(s){console.error("保存会话失败:",s)}},ks=()=>{localStorage.removeItem(`${k.chatId}-bg`),ye(k.defaultBg),W("已恢复默认背景")},ye=s=>{document.getElementById(k.chatId).style.backgroundColor="",oe.value.startsWith("blob:")&&URL.revokeObjectURL(oe.value),oe.value=s,document.getElementById(k.chatId).style.backgroundImage=`url(${s})`,localStorage.setItem(`${k.chatId}-bg-type`,"image")},bs=()=>{We.value.click()},Cs=s=>{const t=s.target.files[0];if(t){const p=new FileReader;p.onload=a=>{const h=a.target.result;ye(h),localStorage.setItem(`${k.chatId}-bg`,h)},p.readAsDataURL(t)}};ae(()=>{oe.value.startsWith("blob:")&&URL.revokeObjectURL(oe.value)}),ae(()=>{ot()}),N(()=>{const s=localStorage.getItem(`${k.chatId}-bg-type`),t=localStorage.getItem(`${k.chatId}-bg`);t?s==="color"?(document.getElementById(k.chatId).style.backgroundColor=t,document.getElementById(k.chatId).style.backgroundImage="none"):ye(t):ye(fs.value)});const ys=()=>{ke.value=!1,Pe.value.startsWith("blob:")&&URL.revokeObjectURL(Pe.value)},$s=s=>{const t=URL.createObjectURL(s.raw),p=window.open(t,"_blank");setTimeout(()=>{if(!p||p.closed){W("请在浏览器设置中允许弹出窗口，或长按链接选择打开方式");const a=document.createElement("a");a.href=t,a.download=s.name,document.body.appendChild(a),a.click(),document.body.removeChild(a)}},500),p==null||p.addEventListener("beforeunload",()=>{URL.revokeObjectURL(t)})},Qe=(s,t)=>{const a=[];for(let b=0;b<s.length;b+=100)a.push(s.slice(b,b+100));const h=document.createDocumentFragment();return a.forEach(b=>{const u=document.createElement("span");u.textContent=b,h.appendChild(u)}),{safeContent:t+s,buffer:"",hasPendingCode:!1}},ws=(s,t)=>{be.value=s.content,Ee.value=t,Je.value=`编辑内容 - ${s.name}`,Ce.value=!1,ke.value=!0},js=()=>{Ee.value>=0&&(V.value[Ee.value].content=be.value,ke.value=!1,W("修改已保存"))};N(async()=>{await rt.createWorker(),Fe.value=!0}),ae(async()=>{qe.value&&await qe.value.terminate()}),N(()=>{M.value&&M.value.addEventListener("scroll",we),E.length===0&&ie()}),ae(()=>{M.value&&M.value.removeEventListener("scroll",we)});const Ze=async(s,t)=>{try{if(s.type.startsWith("image/")){if(!Fe.value)throw new Error("OCR引擎初始化中，请稍后");const{data:{text:h}}=await rt.recognize(s);return h}if(s.type==="application/pdf"){const b=await Zs({data:new Uint8Array(t)}).promise;let u="";for(let B=1;B<=b.numPages;B++){const S=await(await b.getPage(B)).getTextContent();u+=S.items.map(O=>O.str).join(`
`)+`
`}return u}if(s.name.endsWith(".docx"))return(await Ws.extractRawText({arrayBuffer:t})).value.replace(/\n{3,}/g,`

`);if(s.name.endsWith(".pptx")){const h=new Gs;return await h.load(t),h.slides.flatMap(b=>b.shapes.filter(u=>u.text).map(u=>u.text)).join(`

`)}const p=["utf-8","gbk","gb2312","big5","shift_jis","windows-1252"];let a="";for(const h of p)try{if(a=new TextDecoder(h,{fatal:!0}).decode(new Uint8Array(t)),!Ts(a))return a}catch{continue}return a.replace(/[^\x00-\x7F]/g,"")}catch(p){throw console.error("文件解析错误:",p),new Error(`文件解析失败: ${p.message}`)}},Ts=s=>/[\x00-\x08\x0B-\x0C\x0E-\x1F]/.test(s),Ye=s=>{if(s===0)return"0 Bytes";const t=1024,p=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(s)/Math.log(t));return parseFloat((s/Math.pow(t,a)).toFixed(2))+" "+p[a]},Xe=async s=>{const t=Array.from(s.target.files);for(const p of t)try{const a={name:p.name,size:p.size,content:"",raw:p,icon:tt(p.name),progress:0,status:"解析中...",isExpanded:!1};V.value.push(a);const h=await et(p,b=>{a.progress=Math.floor(b*100)});a.content=h,a.status="解析完成",a.progress=100}catch(a){fileItem.status=`解析失败: ${a.message}`,fileItem.progress=0,W(`${p.name} 处理失败: ${a.message}`)}s.target.value=""},et=(s,t)=>new Promise((p,a)=>{const h=new FileReader;let b=0;h.onprogress=u=>{if(u.lengthComputable){const B=u.loaded/u.total;B-b>.05&&(t==null||t(B),b=B)}},h.onload=async u=>{try{const B=await Ze(s,u.target.result);p(B)}catch(B){a(B)}},h.onerror=a,h.readAsArrayBuffer(s)}),tt=s=>{const t=s.split(".").pop().toLowerCase();return`fas ${{pdf:"fa-file-pdf",jpg:"fa-file-image",png:"fa-file-image",doc:"fa-file-word",docx:"fa-file-word",ppt:"fa-file-powerpoint",pptx:"fa-file-powerpoint",txt:"fa-file-alt"}[t]||"fa-file"}`},st=s=>{V.value.splice(s,1)};function ie(){E.push({id:E.length,messages:[],startTime:new Date,avatar:Y.value[ge.value]}),q.value=E.length-1,X(le)}function at(s){q.value=s,X(le)}function Le(s){return/```[\s\S]*?```/g.test(s)}function He(s){const t=s.match(/```[\s\S]*?```/g);return t?t.map(p=>p.replace(/```[\s\S]*?\n/,"").replace(/```$/,"")):[]}async function De(s){try{await navigator.clipboard.writeText(s),W("代码已复制到剪贴板！")}catch{W("复制失败，请手动选择复制")}}async function nt(s=""){var b;if(d.value){gs();return}const t=E[q.value],p=t.messages.flatMap(u=>{var S;const B=O=>{const R=k.selectedAgents.find(se=>se.mode===O);return R?R.name:O},x=u.sender==="user"?{role:"user",content:u.content+((S=u.files)!=null&&S.length?`
[附件内容]
`+u.files.map(O=>O.content).join(`
`):"")}:{role:"assistant",content:u.content,name:B(u.agentMode)};return k.selectedAgents.length>=2?[x]:u.sender!=="user"?[x]:[]});let a="";if(k.selectedAgents.length>=2)a=p.map(u=>u.role==="user"?u.content:`[${u.name||vs(te.value)}] ${u.content}`).join(`

`);else{const u=G.value.trim(),B=V.value.map(x=>x.content.trim()).join(`

`);a=[u,B].filter(x=>x.length>0).join(`

`)}if(!a.trim()){W("请输入内容或上传文件");return}!s&&k.selectedAgents.length<2&&t.messages.push({sender:"user",content:G.value,files:[...V.value]}),m.value=new AbortController,ne.value=!0,d.value=!1;let h=s;Is();try{const u=await fetch(Oe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inputText:a,agentMode:te.value,history:p,currentAgent:te.value}),signal:m.value.signal});if(!u.ok)throw new Error(await u.text());const B=u.body.getReader(),x=new TextDecoder;let S="",O=!0,R=null,se="",je=!1;for(;!d.value;){const{done:Te,value:Be}=await B.read();if(Te)break;S+=x.decode(Be,{stream:!0});const re=S.split(`
`);S=re.pop()||"";for(const pe of re){if(!pe.trim())continue;const Me=JSON.parse(pe);if(Me.error)throw new Error(Me.error);const xe=Qe(Me.content,se),Es=xe.safeContent;se=xe.buffer,je=xe.hasPendingCode,O&&(R={sender:"agent",content:"",html:'<span class="blinking-cursor">|</span>',avatar:Y.value[ge.value],finished:!1,agentMode:te.value,agentName:((b=k.selectedAgents.find(Ls=>Ls.mode===te.value))==null?void 0:b.name)||"",isExpanded:!1},t.messages.push(R),O=!1),h+=Es,c.value=h,R.content=h,je?R.html=U.parse(h+"```")+'<span class="blinking-cursor">|</span><div class="pending-code">代码生成中...</div>':(R.html=U.parse(h)+'<span class="blinking-cursor">|</span>',window.MathJax&&window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,M.value])),await X(),le(),window.MathJax&&window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,M.value])}}R&&(typeof h=="string"&&(R.html=U.parse(h).replace('<span class="blinking-cursor">|</span>',""),R.content=h,R.rawContent=h),R.time=me.value,R.finished=!0)}catch(u){u.name!=="AbortError"||console.log("请求已中止")}finally{k.selectedAgents.length<2&&(G.value="",V.value=[]),Ps(),ne.value=!1,m.value=null,c.value="",await X(),d.value=!1,window.MathJax&&window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,M.value])}}const Bs=()=>{_.value?T.value=!T.value:$e()},ot=()=>{_.value=!1,T.value=!1,m.value&&m.value.abort()};async function Ss(s,t,p,a){const h=a.messages.filter(S=>S.sender!=="user").map(S=>({role:"assistant",content:S.content,name:S.agentName||s.name})),b=new AbortController;let u="",B="",x=!1;try{const S=await fetch(Oe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inputText:p,agentMode:s.mode,history:h}),signal:b.signal});if(!S.ok){const se=await S.text();throw console.error("API 响应错误:",{status:S.status,statusText:S.statusText,body:se}),new Error(`请求失败: ${S.status} - ${se||S.statusText}`)}const O=S.body.getReader(),R=new TextDecoder;for(;;){const{done:se,value:je}=await O.read();if(se)break;B+=R.decode(je,{stream:!0});const Te=B.split(`
`);B=Te.pop()||"";for(const Be of Te)if(Be.trim())try{const re=JSON.parse(Be);if(re.error)throw new Error(re.error);const pe=Qe(re.content,B);u+=pe.safeContent,B=pe.buffer,x=pe.hasPendingCode,t.content=u,t.html=x?U.parse(u+"```")+'<span class="blinking-cursor">|</span><div class="pending-code">代码生成中...</div>':U.parse(u)+'<span class="blinking-cursor">|</span>',await X(),le()}catch(re){console.error("解析响应错误:",re)}}t.html=U.parse(u).replace('<span class="blinking-cursor">|</span>',""),t.content=u,t.rawContent=u,t.finished=!0}catch(S){console.error("智能体处理错误:",S),t.content=`请求失败: ${S.message}`,t.html=U.parse(`**请求失败**: ${S.message}`),t.finished=!0}return t}async function $e(){if(E[q.value]||ie(),k.mode==="smart-parallel"){const s=E[q.value];if(!k.selectedAgents||k.selectedAgents.length===0){W("请先选择智能体");return}const t=G.value.trim(),p=V.value.map(b=>b.content.trim()).join(`

`),a=[t,p].filter(b=>b.length>0).join(`

`);if(!a){W("请输入内容或上传文件");return}s.messages.push({sender:"user",content:G.value,files:[...V.value],timestamp:new Date});const h=[];k.selectedAgents.forEach(b=>{const u={sender:"agent",content:"",html:'<span class="blinking-cursor">|</span>',avatar:b.avatar,agentMode:b.mode,agentName:b.name,finished:!1,isExpanded:!1,timestamp:new Date,translating:!1,translation:null,showTranslation:!1};s.messages.push(u),h.push({agent:b,agentMsg:u})}),G.value="",V.value=[],X(le);try{const b=h.map(({agent:u,agentMsg:B})=>Ss(u,B,a,s));await Promise.all(b)}catch(b){console.error("Parallel requests error:",b),W("部分智能体响应失败")}return}if(k.selectedAgents.length>=2){const s=E[q.value];s.messages.push({sender:"user",content:G.value,files:[...V.value]});const t=async()=>{for([...s.messages],_.value=!0;_.value;){if(T.value){await new Promise(h=>setTimeout(h,500));continue}const p=k.selectedAgents[F.value];te.value=p;const a=new URL(Object.assign({"/src/assets/avatar/correction.jpg":it,"/src/assets/avatar/culture.jpg":ct,"/src/assets/avatar/dialect.jpg":ut,"/src/assets/avatar/dream-weaver.jpg":dt,"/src/assets/avatar/fantasy-master.jpg":vt,"/src/assets/avatar/fujii.jpg":mt,"/src/assets/avatar/fujisaki.jpg":pt,"/src/assets/avatar/game-misheard.jpg":gt,"/src/assets/avatar/game-word.jpg":ht,"/src/assets/avatar/glitch-space.jpg":ft,"/src/assets/avatar/jinguji.jpg":_t,"/src/assets/avatar/ln-factory.jpg":kt,"/src/assets/avatar/misheard.jpg":bt,"/src/assets/avatar/nakamura.jpg":Ct,"/src/assets/avatar/proto-jin.jpg":yt,"/src/assets/avatar/sato.jpg":$t,"/src/assets/avatar/self-splitter.jpg":wt,"/src/assets/avatar/soul.jpg":jt,"/src/assets/avatar/stem.jpg":Tt,"/src/assets/avatar/super-translate.jpg":Bt,"/src/assets/avatar/takahashi.jpg":St,"/src/assets/avatar/tanaka.jpg":It,"/src/assets/avatar/unconscious.jpg":At,"/src/assets/avatar/yamada.jpg":Pt,"/src/assets/avatar/yamamoto.jpg":Et})[`/src/assets/avatar/${te.value}.jpg`],import.meta.url).href;Y.value.includes(a)||(Y.value=[a]),ge.value=Y.value.indexOf(a),await nt(""),s.messages[s.messages.length-1],F.value=(F.value+1)%k.selectedAgents.length,await new Promise(h=>setTimeout(h,300))}};P.value=t()}else{if(k.selectedAgents.length==1){te.value=k.selectedAgents[0];const s=new URL(Object.assign({"/src/assets/avatar/correction.jpg":it,"/src/assets/avatar/culture.jpg":ct,"/src/assets/avatar/dialect.jpg":ut,"/src/assets/avatar/dream-weaver.jpg":dt,"/src/assets/avatar/fantasy-master.jpg":vt,"/src/assets/avatar/fujii.jpg":mt,"/src/assets/avatar/fujisaki.jpg":pt,"/src/assets/avatar/game-misheard.jpg":gt,"/src/assets/avatar/game-word.jpg":ht,"/src/assets/avatar/glitch-space.jpg":ft,"/src/assets/avatar/jinguji.jpg":_t,"/src/assets/avatar/ln-factory.jpg":kt,"/src/assets/avatar/misheard.jpg":bt,"/src/assets/avatar/nakamura.jpg":Ct,"/src/assets/avatar/proto-jin.jpg":yt,"/src/assets/avatar/sato.jpg":$t,"/src/assets/avatar/self-splitter.jpg":wt,"/src/assets/avatar/soul.jpg":jt,"/src/assets/avatar/stem.jpg":Tt,"/src/assets/avatar/super-translate.jpg":Bt,"/src/assets/avatar/takahashi.jpg":St,"/src/assets/avatar/tanaka.jpg":It,"/src/assets/avatar/unconscious.jpg":At,"/src/assets/avatar/yamada.jpg":Pt,"/src/assets/avatar/yamamoto.jpg":Et})[`/src/assets/avatar/${te.value}.jpg`],import.meta.url).href;Y.value.includes(s)||(Y.value=[s]),ge.value=Y.value.indexOf(s)}nt()}G.value="",V.value=[]}function Is(){let s=Date.now();me.value="0.0s",Ue.value=setInterval(()=>{me.value=((Date.now()-s)/1e3).toFixed(1)+"s"},100)}function As(s){E.length>1?q.value=s>0?s-1:0:ie(),E.splice(s,1),E.length===0&&ie(),Ke()}function Ps(){clearInterval(Ue.value),me.value="0.0s"}function we(){const s=M.value;s&&(Ae.value=s.scrollHeight-s.scrollTop-s.clientHeight<2,sessionStorage.setItem("chatScrollPosition",M.value.scrollTop))}const le=()=>{if(!M.value||!Ae.value)return;const s=M.value;requestAnimationFrame(()=>{s.scrollTop=s.scrollHeight})};return Se(()=>E,s=>{Ke()},{deep:!0}),N(()=>{_s(),E.length===0&&ie()}),Se(()=>{var s;return(s=E[q.value])==null?void 0:s.messages.length},async()=>{await X(),window.MathJax&&M.value&&window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,M.value])}),o({isThinking:ne,thinkingTime:me,sessions:E,activeSessionIndex:q,chatHistoryRef:M,files:V,inputText:G,handleFileUpload:Xe,removeFile:st,createNewChat:ie,switchToSession:at,scrollToBottom:le,formatFileSize:Ye,getFileIcon:tt,parseAnyFile:Ze,readFileContent:et,hasCodeBlocks:Le,getCodeBlocks:He,copyToClipboard:De,onChatHistoryScroll:we,autoScroll:Ae}),(s,t)=>{var p;return n(),v("section",{id:f.chatId,class:"screen"},[i.value?(n(),$(Na,{key:0,mode:f.mode,onClose:t[0]||(t[0]=a=>i.value=!1)},null,8,["mode"])):I("",!0),ke.value?(n(),v("div",Fa,[e("div",Ua,[e("span",{class:"close",onClick:ys},"×"),e("h3",null,w(Je.value),1),Ce.value?(n(),v("img",{key:0,src:Pe.value,class:"file-preview-image"},null,8,Ja)):Q((n(),v("textarea",{key:1,"onUpdate:modelValue":t[1]||(t[1]=a=>be.value=a),class:"file-content-editor",placeholder:Ce.value?"图片不可编辑":"在此编辑文件内容"},null,8,Wa)),[[Re,be.value]]),Ce.value?I("",!0):(n(),v("button",{key:2,class:"anime-btn save-btn",onClick:js}," 保存 "))])])):I("",!0),e("div",Ga,[e("div",Ka,[e("button",{class:"anime-btn back-btn",onClick:t[2]||(t[2]=a=>s.$emit("back"))},t[12]||(t[12]=[e("i",{class:"fas fa-arrow-left"},null,-1)]))]),e("div",Qa,[Q(e("button",{class:"expand-btn",onClick:t[3]||(t[3]=a=>C.value=!C.value)},t[13]||(t[13]=[e("i",{class:"fas fa-chevron-right"},null,-1)]),512),[[ue,C.value]])]),ce(fe,{name:"slide"},{default:de(()=>[Q(e("div",Za,[e("div",Ya,[e("h3",null,w(s.$t("baseChat.history")),1),e("button",{class:"anime-btn",onClick:ie},t[14]||(t[14]=[e("i",{class:"fas fa-plus"},null,-1)])),e("button",{class:"anime-btn",onClick:t[4]||(t[4]=J(a=>ve.value=!ve.value,["stop"]))},t[15]||(t[15]=[e("i",{class:"fas fa-palette"},null,-1)])),ce(fe,{name:"fade"},{default:de(()=>[ve.value?(n(),v("div",Xa,[e("div",{class:"bg-option",onClick:bs},[t[16]||(t[16]=e("i",{class:"fas fa-image"},null,-1)),he(" "+w(s.$t("baseChat.customBg"))+" ",1),e("input",{type:"file",ref_key:"bgInput",ref:We,accept:"image/*",onChange:Cs,style:{display:"none"}},null,544)]),e("div",{class:"bg-option",onClick:ks},[t[17]||(t[17]=e("i",{class:"fas fa-undo"},null,-1)),he(" "+w(s.$t("baseChat.restoreBg")),1)]),e("div",{class:"color-picker-container",onClick:t[7]||(t[7]=J(()=>{},["stop"]))},[e("div",{class:"color-preview",style:xs({background:_e.value})},null,4),he(" "+w(s.$t("baseChat.customColor"))+" ",1),Q(e("input",{type:"color","onUpdate:modelValue":t[5]||(t[5]=a=>_e.value=a),onInput:t[6]||(t[6]=J(a=>us(_e.value),["stop"])),class:"color-picker"},null,544),[[Re,_e.value]])])])):I("",!0)]),_:1}),e("button",{class:"collapse-btn",onClick:t[8]||(t[8]=a=>C.value=!C.value)},t[18]||(t[18]=[e("i",{class:"fas fa-chevron-left"},null,-1)]))]),e("div",en,[e("div",tn,[(n(!0),v(z,null,K(E,(a,h)=>{var b,u;return n(),v("div",{key:a.id,class:ee(["session-item",{active:h===q.value}]),onClick:B=>at(h)},[e("div",null,w(s.$t("baseChat.session"))+" "+w(h+1)+": "+w((u=(b=a.messages[a.messages.length-1])==null?void 0:b.content)==null?void 0:u.slice(0,20)),1),e("div",an,w(a.startTime.toLocaleTimeString()),1),e("button",{class:"delete-session-btn",onClick:J(B=>As(h),["stop"])},t[19]||(t[19]=[e("i",{class:"fas fa-trash-alt"},null,-1)]),8,nn)],10,sn)}),128))])])],512),[[ue,!C.value]])]),_:1})]),e("div",on,[Rs(s.$slots,"righttop",{},void 0),y.value?(n(),v("button",{key:0,class:"anime-btn",onClick:t[9]||(t[9]=a=>i.value=!0)},t[20]||(t[20]=[e("i",{class:"fas fa-question"},null,-1)]))):I("",!0)]),e("h1",null,w(f.chatTitle),1),t[30]||(t[30]=e("div",{class:"leftbottom-container"},null,-1)),e("div",ln,[ce(Ma,{show:ne.value&&f.mode!=="smart-parallel",avatar:Y.value[ge.value],time:me.value},null,8,["show","avatar","time"]),e("div",{class:"chat-history",ref_key:"chatHistoryRef",ref:M,onScroll:we},[(n(!0),v(z,null,K((p=E[q.value])==null?void 0:p.messages,(a,h)=>{var b;return n(),v(z,{key:h},[a.sender==="user"?(n(),v("div",rn,[(b=a.files)!=null&&b.length?(n(),v("div",cn,[(n(!0),v(z,null,K(a.files,(u,B)=>(n(),v("div",{key:B,class:"file-tag"},[e("i",{class:ee(u.icon)},null,2),he(" "+w(u.name),1)]))),128))])):I("",!0),e("div",un,w(a.content),1)])):(n(),v("div",dn,[f.mode==="smart-parallel"?(n(),v("div",vn,[e("div",{class:"agent-header",onClick:u=>ms(a)},[e("img",{src:a.avatar,class:"agent-avatar"},null,8,pn),e("span",gn,w(a.agentName),1),e("button",hn,[e("i",{class:ee(a.isExpanded?"fas fa-chevron-down":"fas fa-chevron-right")},null,2)])],8,mn),a.isExpanded?(n(),v("div",fn,[e("div",{class:"stream-content",innerHTML:a.rawContent?j(U).parse(a.rawContent):a.html},null,8,_n),Le(a.content)?(n(!0),v(z,{key:0},K(He(a.content),(u,B)=>(n(),v("div",{class:"code-copy-container",key:B},[e("pre",null,[e("code",null,w(u),1)]),e("button",{class:"copy-btn",onClick:x=>De(u),title:"复制代码"},t[21]||(t[21]=[e("i",{class:"fas fa-copy"},null,-1)]),8,kn)]))),128)):I("",!0),e("div",bn,[a.translation&&a.showTranslation?(n(),v("div",Cn,[e("div",yn,w(a.translation),1)])):I("",!0),a.finished?(n(),v("button",{key:1,class:"translate-btn",onClick:u=>Ne(a),disabled:a.translating},[e("div",{class:ee(["fox-icon",{thinking:a.translating,active:a.translation&&a.showTranslation}])},t[22]||(t[22]=[lt('<div class="fox-ears" data-v-42c1dc6f><div class="ear left" data-v-42c1dc6f></div><div class="ear right" data-v-42c1dc6f></div></div><div class="fox-face" data-v-42c1dc6f><div class="eyes" data-v-42c1dc6f><div class="eye left" data-v-42c1dc6f></div><div class="eye right" data-v-42c1dc6f></div></div><div class="nose" data-v-42c1dc6f></div></div>',2)]),2)],8,$n)):I("",!0)])])):I("",!0)])):(n(),v("div",wn,[e("img",{src:a.avatar||Y.value[0],class:"agent-avatar"},null,8,jn),e("div",Tn,[e("div",Bn,[e("div",{class:"stream-content",innerHTML:a.rawContent?j(U).parse(a.rawContent):a.html},null,8,Sn),Le(a.content)?(n(!0),v(z,{key:0},K(He(a.content),(u,B)=>(n(),v("div",{class:"code-copy-container",key:B},[e("pre",null,[e("code",null,w(u),1)]),e("button",{class:"copy-btn",onClick:x=>De(u),title:"复制代码"},t[23]||(t[23]=[e("i",{class:"fas fa-copy"},null,-1)]),8,In)]))),128)):I("",!0),e("div",An,[a.translation&&a.showTranslation?(n(),v("div",Pn,[e("div",En,w(a.translation),1)])):I("",!0),a.finished?(n(),v("button",{key:1,class:"translate-btn",onClick:u=>Ne(a),disabled:a.translating},[e("div",{class:ee(["fox-icon",{thinking:a.translating,active:a.translation&&a.showTranslation}])},t[24]||(t[24]=[lt('<div class="fox-ears" data-v-42c1dc6f><div class="ear left" data-v-42c1dc6f></div><div class="ear right" data-v-42c1dc6f></div></div><div class="fox-face" data-v-42c1dc6f><div class="eyes" data-v-42c1dc6f><div class="eye left" data-v-42c1dc6f></div><div class="eye right" data-v-42c1dc6f></div></div><div class="nose" data-v-42c1dc6f></div></div>',2)]),2)],8,Ln)):I("",!0)])])])]))]))],64)}),128))],544),V.value.length>0?(n(),v("div",Hn,[(n(!0),v(z,null,K(V.value,(a,h)=>(n(),v("div",{key:h,class:ee(["file-card",{expanded:a.isExpanded}])},[e("div",Dn,[e("i",{class:ee(a.icon)},null,2),e("div",Mn,[e("span",xn,w(a.name),1),e("span",Rn,w(Ye(a.size)),1)]),e("div",On,[e("button",{class:"action-btn view-btn",onClick:J(b=>$s(a),["stop"])},t[25]||(t[25]=[e("i",{class:"fas fa-eye"},null,-1)]),8,Vn),e("button",{class:"action-btn edit-btn",onClick:J(b=>ws(a,h),["stop"])},t[26]||(t[26]=[e("i",{class:"fas fa-edit"},null,-1)]),8,zn),e("button",{class:"action-btn delete-btn",onClick:J(b=>st(h),["stop"])},t[27]||(t[27]=[e("i",{class:"fas fa-times"},null,-1)]),8,Nn)])])],2))),128))])):I("",!0),e("div",qn,[Q(e("textarea",{id:"text-input-field","onUpdate:modelValue":t[10]||(t[10]=a=>G.value=a),placeholder:"请输入...",onKeypress:Os(J($e,["prevent"]),["enter"]),disabled:ne.value},null,40,Fn),[[Re,G.value]]),e("div",Un,[e("input",{type:"file",class:"tool-btn",style:{display:"none"},ref_key:"fileInput",ref:hs,onChange:Xe,multiple:"",accept:"*/*"},null,544),e("button",{class:"tool-btn",onClick:t[11]||(t[11]=a=>s.$refs.fileInput.click()),disabled:ne.value},t[28]||(t[28]=[e("i",{class:"fas fa-file-upload"},null,-1)]),8,Jn),f.selectedAgents.length<2||f.selectedAgents.length>=2&&_.value?(n(),v("button",{key:0,class:"tool-btn",onClick:ds},[ne.value?(n(),v("i",Wn)):f.selectedAgents.length>=2?(n(),v("i",Gn)):(n(),v("i",Kn))])):I("",!0),f.selectedAgents.length>=2?(n(),v("div",Qn,[f.selectedAgents.length>=2&&!_.value?(n(),v("div",Zn,[e("button",{class:"tool-btn",onClick:Bs},[T.value?(n(),v("i",Yn)):(n(),v("i",Xn))])])):I("",!0),_.value?(n(),v("button",{key:1,class:"tool-btn stop-btn",onClick:ot},t[29]||(t[29]=[e("i",{class:"fas fa-stop"},null,-1)]))):I("",!0)])):I("",!0)])])])],8,qa)}}},H=Z(eo,[["__scopeId","data-v-42c1dc6f"]]),D="/testCase/assets/baseBg-EMoBRvCc.jpg",Mt="/testCase/assets/zero-C-_gDZvt.gif",to="/testCase/assets/soul-CbzfVuhH.jpg",so="/testCase/assets/soul-CbzfVuhH.jpg",ao="/testCase/assets/soul-CbzfVuhH.jpg",no="/testCase/assets/soul-CbzfVuhH.jpg",oo="/testCase/assets/soul-CbzfVuhH.jpg",lo="/testCase/assets/soul-CbzfVuhH.jpg",ro="/testCase/assets/soul-CbzfVuhH.jpg",io="/testCase/assets/soul-CbzfVuhH.jpg",co="/testCase/assets/soul-CbzfVuhH.jpg",uo="/testCase/assets/soul-CbzfVuhH.jpg",vo="/testCase/assets/soul-CbzfVuhH.jpg",mo="/testCase/assets/soul-CbzfVuhH.jpg",po="/testCase/assets/soul-CbzfVuhH.jpg",go="/testCase/assets/soul-CbzfVuhH.jpg",ho="/testCase/assets/soul-CbzfVuhH.jpg",fo="/testCase/assets/soul-CbzfVuhH.jpg",xt="/testCase/assets/jinguji-CJD_HdCm.jpg",Rt="/testCase/assets/fujii-T--k3L0g.jpg",Ot="/testCase/assets/yamada-DD51_7wR.jpg",Vt="/testCase/assets/yamamoto-FR78TbMO.jpg",zt="/testCase/assets/fujisaki-Ch2P9EZi.jpg",Nt="/testCase/assets/nakamura-NUGIdse9.jpg",qt="/testCase/assets/tanaka-C3SqWxLW.jpg",Ft="/testCase/assets/takahashi-SsINVf1H.jpg",Ut="/testCase/assets/sato-BzrpPHDf.jpg",_o={class:"agent-sidebar"},ko={class:"sessions-header"},bo={class:"sidebar-header-row"},Co={class:"agent-list"},yo=["onClick"],$o=["src"],wo={key:0,class:"selected-indicator"},jo={class:"agent-info"},To={class:"agent-name"},Bo={class:"agent-mode"},So={key:1,class:"fas fa-check selected-icon"},Io={key:0,class:"discussion-status"},Ao={key:0},Po={key:1},Eo={__name:"GroupDiscussionChat",emits:["back"],setup(f,{emit:o}){const l=g(!0);function r(){l.value=!l.value}const{t:d}=A(),m=g(null),c=g([]),C=g([{mode:"jinguji",name:"神宮寺 朋哉",avatar:xt,displayName:"神宮寺"},{mode:"fujii",name:"藤井 匠",avatar:Rt,displayName:"藤井"},{mode:"yamada",name:"山田 しおり",avatar:Ot,displayName:"山田"},{mode:"yamamoto",name:"山本ゴロー",avatar:Vt,displayName:"山本"},{mode:"fujisaki",name:"藤崎メイ",avatar:zt,displayName:"藤崎"},{mode:"nakamura",name:"中村カナ",avatar:Nt,displayName:"中村"},{mode:"tanaka",name:"田中ユウト",avatar:qt,displayName:"田中"},{mode:"takahashi",name:"高橋 唯",avatar:Ft,displayName:"高橋"},{mode:"sato",name:"佐藤リク",avatar:Ut,displayName:"佐藤"}]),i=g(new AbortController),y=_=>c.value.includes(_),P=_=>{const T=c.value.indexOf(_);T>-1?c.value.splice(T,1):c.value.length<16&&c.value.push(_),c.value=[...c.value],m.value.selectedAgents=[...c.value]};return N(()=>{X(()=>{var _,T;((T=(_=m.value)==null?void 0:_.sessions)==null?void 0:T.length)===0&&m.value.createNewChat()})}),ae(()=>{var _;(_=i.value)==null||_.abort()}),Se(c,_=>{localStorage.setItem("group-selected-agents",JSON.stringify(_))}),N(()=>{const _=localStorage.getItem("group-selected-agents");_&&(c.value=JSON.parse(_),m.value.selectedAgents=[...c.value])}),(_,T)=>(n(),$(H,{ref_key:"baseChat",ref:m,chatId:"group-discussion",chatTitle:_.$t("groupDiscussion"),mode:"zero",selectedAgents:c.value,defaultBg:j(D),avatarPath:j(Mt),onBack:T[0]||(T[0]=F=>_.$emit("back"))},{righttop:de(()=>{var F;return[ce(fe,{name:"slide"},{default:de(()=>[Q(e("div",_o,[e("div",ko,[e("div",bo,[e("button",{class:"collapse-btn",onClick:r},T[1]||(T[1]=[e("i",{class:"fas fa-chevron-right"},null,-1)])),e("h2",null,"讨论成员（"+w(c.value.length)+"/9）",1)])]),e("div",Co,[(n(!0),v(z,null,K(C.value,k=>(n(),v("div",{key:k.mode,class:ee(["agent-item",{selected:y(k.mode)}]),onClick:ve=>P(k.mode)},[e("img",{src:k.avatar,class:"agent-avatar"},null,8,$o),y(k.mode)?(n(),v("div",wo)):I("",!0),e("div",jo,[e("span",To,w(k.name),1),e("span",Bo,w(k.mode),1)]),y(k.mode)?(n(),v("i",So)):I("",!0)],10,yo))),128))])],512),[[ue,!l.value]])]),_:1}),Q(e("button",{class:"expand-btn",onClick:r},T[2]||(T[2]=[e("i",{class:"fas fa-chevron-left"},null,-1)]),512),[[ue,l.value]]),(F=m.value)!=null&&F.isDiscussionRunning?(n(),v("div",Io,[m.value.isDiscussionPaused?(n(),v("span",Ao,"已暂停")):(n(),v("span",Po,"讨论中"))])):I("",!0)]}),_:1},8,["chatTitle","selectedAgents","defaultBg","avatarPath"]))}},Jt=Z(Eo,[["__scopeId","data-v-bf976b2b"]]),Wt={__name:"SoulChat",setup(f){const{t:o}=A();return(l,r)=>(n(),$(H,{chatId:"soul-chat",chatTitle:l.$t("modes.soul"),defaultBg:j(D),avatarPath:j(to),mode:"soul",onBack:r[0]||(r[0]=d=>l.$emit("back"))},null,8,["chatTitle","defaultBg","avatarPath"]))}},Gt={__name:"MisheardChat",setup(f){const{t:o}=A();return(l,r)=>(n(),$(H,{chatId:"misheard-chat",chatTitle:l.$t("modes.misheard"),defaultBg:j(D),avatarPath:j(mo),mode:"misheard",onBack:r[0]||(r[0]=d=>l.$emit("back"))},null,8,["chatTitle","defaultBg","avatarPath"]))}},Kt={__name:"CorrectionChat",setup(f){const{t:o}=A();return(l,r)=>(n(),$(H,{chatId:"correction-chat",chatTitle:l.$t("modes.correction"),defaultBg:j(D),avatarPath:j(ao),mode:"correction",onBack:r[0]||(r[0]=d=>l.$emit("back"))},null,8,["chatTitle","defaultBg","avatarPath"]))}},Lo={class:"toast show"},Ho={class:"toast-content"},Do={__name:"Toast",props:["message"],setup(f){return(o,l)=>(n(),v("div",Lo,[e("div",Ho,w(f.message),1)]))}},Mo=Z(Do,[["__scopeId","data-v-9f189b94"]]),Qt={__name:"GameMisheardChat",setup(f){const{t:o}=A();return(l,r)=>(n(),$(H,{chatId:"game-misheard-chat",chatTitle:l.$t("modes.game-misheard"),defaultBg:j(D),avatarPath:j(co),mode:"game-misheard",onBack:r[0]||(r[0]=d=>l.$emit("back"))},null,8,["chatTitle","defaultBg","avatarPath"]))}},Zt={__name:"GameWordChat",setup(f){const{t:o}=A();return(l,r)=>(n(),$(H,{chatId:"game-word-chat",chatTitle:l.$t("modes.game-word"),defaultBg:j(D),avatarPath:j(uo),mode:"game-word",onBack:r[0]||(r[0]=d=>l.$emit("back"))},null,8,["chatTitle","defaultBg","avatarPath"]))}},Yt={__name:"CultureChat",setup(f){const{t:o}=A();return(l,r)=>(n(),$(H,{chatId:"culture-chat",chatTitle:l.$t("modes.culture"),defaultBg:j(D),avatarPath:j(no),mode:"culture",onBack:r[0]||(r[0]=d=>l.$emit("back"))},null,8,["chatTitle","defaultBg","avatarPath"]))}},Xt={__name:"DialectChat",setup(f){const{t:o}=A();return(l,r)=>(n(),$(H,{chatId:"dialect-chat",chatTitle:l.$t("modes.dialect"),defaultBg:j(D),avatarPath:j(oo),mode:"dialect",onBack:r[0]||(r[0]=d=>l.$emit("back"))},null,8,["chatTitle","defaultBg","avatarPath"]))}},es={__name:"SuperTranslateChat",setup(f){const{t:o}=A();return(l,r)=>(n(),$(H,{chatId:"super-translate-chat",chatTitle:l.$t("modes.super-translate"),defaultBg:j(D),avatarPath:j(ho),mode:"super-translate",onBack:r[0]||(r[0]=d=>l.$emit("back"))},null,8,["chatTitle","defaultBg","avatarPath"]))}},xo={class:"screen quick-chat-screen",id:"quick-chat"},Ro={class:"lefttop-container"},Oo={class:"chat-grid"},Vo=["onClick"],zo={class:"chat-icon"},No={class:"chat-title"},qo={__name:"QuickChatScreen",setup(f){const{t:o}=A(),l=g(null),r=g(0);ae(()=>{l.value&&(r.value=l.value.scrollTop)}),N(()=>{X(()=>{l.value&&r.value&&(l.value.scrollTop=r.value)})}),N(()=>{var i;(i=l.value)==null||i.addEventListener("scroll",d),m()}),ae(()=>{var i;(i=l.value)==null||i.removeEventListener("scroll",d)});const d=()=>{l.value&&sessionStorage.setItem("quickChatScroll",l.value.scrollTop)},m=()=>{const i=sessionStorage.getItem("quickChatScroll");l.value&&i&&(l.value.scrollTop=i)},c={maxHeight:"90vh",overflowY:"auto",padding:"1rem",width:"100%",height:"100%",scrollBehavior:"smooth"};N(()=>{var i;(i=l.value)==null||i.addEventListener("scroll",d)}),ae(()=>{var i;(i=l.value)==null||i.removeEventListener("scroll",d)});const C=[{type:"soul",title:o("modes.soul"),icon:"💖"},{type:"correction",title:o("modes.correction"),icon:"✏️"},{type:"misheard",title:o("modes.misheard"),icon:"🎧"},{type:"dialect",title:o("modes.dialect"),icon:"🗺️"},{type:"super-translate",title:o("modes.super-translate"),icon:"🚀"},{type:"culture",title:o("modes.culture"),icon:"🎎"},{type:"game-misheard",title:o("modes.game-misheard"),icon:"🎮"},{type:"game-word",title:o("modes.game-word"),icon:"🔠"},{type:"stem",title:o("modes.stem"),icon:"🧪"},{type:"dream-weaver",title:o("modes.dream-weaver"),icon:"🌌"},{type:"fantasy-master",title:o("modes.fantasy-master"),icon:"🌈"},{type:"glitch-space",title:o("modes.glitch-space"),icon:"🌀"},{type:"ln-factory",title:o("modes.ln-factory"),icon:"📚"},{type:"proto-jin",title:o("modes.proto-jin"),icon:"✨"},{type:"self-splitter",title:o("modes.self-splitter"),icon:"✂️"},{type:"unconscious",title:o("modes.unconscious"),icon:"👻"}];return(i,y)=>(n(),v(z,null,[e("section",xo,[e("div",Ro,[e("button",{class:"anime-btn",onClick:y[0]||(y[0]=P=>i.$emit("back"))},y[1]||(y[1]=[e("i",{class:"fas fa-arrow-left"},null,-1)]))]),e("div",{class:"scroll-container",style:c,ref_key:"scrollContainer",ref:l},[e("div",Oo,[(n(),v(z,null,K(C,(P,_)=>e("div",{key:_,class:"chat-item anime-btn",onClick:T=>i.$emit("select-chat",P.type)},[e("div",zo,w(P.icon),1),e("div",No,w(P.title),1)],8,Vo)),64))])],512)]),y[2]||(y[2]=e("div",{class:"footer-copyright"}," ©️CabbageGroup-All Rights Reserved,led by HC ",-1))],64))}},ts=Z(qo,[["__scopeId","data-v-817b9a3a"]]),ss={__name:"STEMChat",setup(f){const{t:o}=A();return(l,r)=>(n(),$(H,{chatId:"stem-chat",chatTitle:l.$t("modes.stem"),defaultBg:j(D),avatarPath:j(so),mode:"stem",onBack:r[0]||(r[0]=d=>l.$emit("back"))},null,8,["chatTitle","defaultBg","avatarPath"]))}},as={__name:"DreamWeaverChat",setup(f){const{t:o}=A();return(l,r)=>(n(),$(H,{chatId:"dream-weaver-chat",chatTitle:l.$t("modes.dream-weaver"),defaultBg:j(D),avatarPath:j(lo),mode:"dream-weaver",onBack:r[0]||(r[0]=d=>l.$emit("back"))},null,8,["chatTitle","defaultBg","avatarPath"]))}},ns={__name:"FantasyChat",setup(f){const{t:o}=A();return(l,r)=>(n(),$(H,{chatId:"fantasy-master-chat",chatTitle:l.$t("modes.fantasy-master"),defaultBg:j(D),avatarPath:j(ro),mode:"fantasy-master",onBack:r[0]||(r[0]=d=>l.$emit("back"))},null,8,["chatTitle","defaultBg","avatarPath"]))}},os={__name:"GlitchSpaceChat",setup(f){const{t:o}=A();return(l,r)=>(n(),$(H,{chatId:"glitch-space-chat",chatTitle:l.$t("modes.glitch-space"),defaultBg:j(D),avatarPath:j(vo),mode:"glitch-space",onBack:r[0]||(r[0]=d=>l.$emit("back"))},null,8,["chatTitle","defaultBg","avatarPath"]))}},ls={__name:"LNFactoryChat",setup(f){const{t:o}=A();return(l,r)=>(n(),$(H,{chatId:"ln-factory-chat",chatTitle:l.$t("modes.ln-factory"),defaultBg:j(D),avatarPath:j(io),mode:"ln-factory",onBack:r[0]||(r[0]=d=>l.$emit("back"))},null,8,["chatTitle","defaultBg","avatarPath"]))}},rs={__name:"ProtoJinChat",setup(f){const{t:o}=A();return(l,r)=>(n(),$(H,{chatId:"proto-jin-chat",chatTitle:l.$t("modes.proto-jin"),defaultBg:j(D),avatarPath:j(po),mode:"proto-jin",onBack:r[0]||(r[0]=d=>l.$emit("back"))},null,8,["chatTitle","defaultBg","avatarPath"]))}},is={__name:"SelfSplitterChat",setup(f){const{t:o}=A();return(l,r)=>(n(),$(H,{chatId:"self-splitter-chat",chatTitle:l.$t("modes.self-splitter"),defaultBg:j(D),avatarPath:j(go),mode:"self-splitter",onBack:r[0]||(r[0]=d=>l.$emit("back"))},null,8,["chatTitle","defaultBg","avatarPath"]))}},cs={__name:"UnconsciousVisitorChat",setup(f){const{t:o}=A();return(l,r)=>(n(),$(H,{chatId:"unconscious-visitor-chat",chatTitle:l.$t("modes.unconscious"),defaultBg:j(D),avatarPath:j(fo),mode:"unconscious",onBack:r[0]||(r[0]=d=>l.$emit("back"))},null,8,["chatTitle","defaultBg","avatarPath"]))}},Fo={class:"agent-sidebar"},Uo={class:"sessions-header"},Jo={class:"sidebar-header-row"},Wo={class:"agent-list"},Go=["onClick"],Ko=["src"],Qo={key:0,class:"selected-indicator"},Zo={class:"agent-info"},Yo={class:"agent-name"},Xo={class:"agent-mode"},el={key:1,class:"fas fa-check selected-icon"},tl={__name:"SmartParallelChat",emits:["back"],setup(f,{emit:o}){const{t:l}=A(),r=g(!0);function d(){r.value=!r.value}const m=g(null),c=g([]),C=g([{mode:"jinguji",name:"神宮寺 朋哉",avatar:xt},{mode:"fujii",name:"藤井 匠",avatar:Rt},{mode:"yamada",name:"山田 しおり",avatar:Ot},{mode:"yamamoto",name:"山本ゴロー",avatar:Vt},{mode:"fujisaki",name:"藤崎メイ",avatar:zt},{mode:"nakamura",name:"中村カナ",avatar:Nt},{mode:"tanaka",name:"田中ユウト",avatar:qt},{mode:"takahashi",name:"高橋 唯",avatar:Ft},{mode:"sato",name:"佐藤リク",avatar:Ut}]),i=P=>{const _=C.value.find(F=>F.mode===P);if(!_)return;const T=c.value.findIndex(F=>F.mode===P);T>-1?c.value.splice(T,1):c.value.length<9&&c.value.push(_),c.value=[...c.value],m.value&&(m.value.selectedAgents=[...c.value])},y=P=>c.value.some(_=>_.mode===P);return(P,_)=>(n(),$(H,{ref_key:"baseChat",ref:m,chatId:"smart-parallel",chatTitle:P.$t("smartParallel"),mode:"smart-parallel",selectedAgents:c.value,defaultBg:j(D),avatarPath:j(Mt),onBack:_[0]||(_[0]=T=>P.$emit("back")),showThinkingIndicator:!1},{righttop:de(()=>[ce(fe,{name:"slide"},{default:de(()=>[Q(e("div",Fo,[e("div",Uo,[e("div",Jo,[e("button",{class:"collapse-btn",onClick:d},_[1]||(_[1]=[e("i",{class:"fas fa-chevron-right"},null,-1)])),e("h2",null,w(P.$t("smartParallelAgents",{count:c.value.length})),1)])]),e("div",Wo,[(n(!0),v(z,null,K(C.value,T=>(n(),v("div",{key:T.mode,class:ee(["agent-item",{selected:y(T.mode)}]),onClick:F=>i(T.mode)},[e("img",{src:T.avatar,class:"agent-avatar"},null,8,Ko),y(T.mode)?(n(),v("div",Qo)):I("",!0),e("div",Zo,[e("span",Yo,w(T.name),1),e("span",Xo,w(T.mode),1)]),y(T.mode)?(n(),v("i",el)):I("",!0)],10,Go))),128))])],512),[[ue,!r.value]])]),_:1}),Q(e("button",{class:"expand-btn",onClick:d},_[2]||(_[2]=[e("i",{class:"fas fa-chevron-left"},null,-1)]),512),[[ue,r.value]])]),_:1},8,["chatTitle","selectedAgents","defaultBg","avatarPath"]))}},sl=Z(tl,[["__scopeId","data-v-3fc8b065"]]),al={__name:"App",setup(f){const o=g("welcome"),l=g({show:!1,message:""}),r=zs(),d=C=>{o.value=C};function m(C){l.value={show:!0,message:C},setTimeout(()=>l.value.show=!1,3e3)}r.afterEach(C=>{sessionStorage.setItem("currentRoute",C.path)}),N(()=>{const C=sessionStorage.getItem("currentRoute")||"/";r.push(C)}),r.afterEach(C=>{sessionStorage.setItem("currentRoute",C.path),o.value=C.name?C.name:"welcome"});const c=sessionStorage.getItem("currentRoute");return c&&r.push(c),Ns("showToast",m),(C,i)=>(n(),v(z,null,[ce(fe,{name:"anime-fade-cross"},{default:de(()=>[o.value==="welcome"?(n(),$(Dt,{onStart:i[0]||(i[0]=y=>o.value="group-discussion"),onQuickChat:i[1]||(i[1]=y=>o.value="quick-chat"),onSmartParallel:i[2]||(i[2]=y=>o.value="smart-parallel"),key:"welcome"})):o.value==="smart-parallel"?(n(),$(sl,{key:1,onBack:i[3]||(i[3]=y=>o.value="welcome")})):o.value==="group-discussion"?(n(),$(Jt,{key:2,onBack:i[4]||(i[4]=y=>o.value="welcome")})):o.value==="soul"?(n(),$(Wt,{key:3,onBack:i[5]||(i[5]=y=>o.value="quick-chat")})):o.value==="misheard"?(n(),$(Gt,{key:4,onBack:i[6]||(i[6]=y=>o.value="quick-chat")})):o.value==="correction"?(n(),$(Kt,{key:5,onBack:i[7]||(i[7]=y=>o.value="quick-chat")})):o.value==="game-misheard"?(n(),$(Qt,{key:6,onBack:i[8]||(i[8]=y=>o.value="quick-chat")})):o.value==="game-word"?(n(),$(Zt,{key:7,onBack:i[9]||(i[9]=y=>o.value="quick-chat")})):o.value==="culture"?(n(),$(Yt,{key:8,onBack:i[10]||(i[10]=y=>o.value="quick-chat")})):o.value==="dialect"?(n(),$(Xt,{key:9,onBack:i[11]||(i[11]=y=>o.value="quick-chat")})):o.value==="super-translate"?(n(),$(es,{key:10,onBack:i[12]||(i[12]=y=>o.value="quick-chat")})):o.value==="stem"?(n(),$(ss,{key:11,onBack:i[13]||(i[13]=y=>o.value="quick-chat")})):o.value==="dream-weaver"?(n(),$(as,{key:12,onBack:i[14]||(i[14]=y=>o.value="quick-chat")})):o.value==="fantasy-master"?(n(),$(ns,{key:13,onBack:i[15]||(i[15]=y=>o.value="quick-chat")})):o.value==="glitch-space"?(n(),$(os,{key:14,onBack:i[16]||(i[16]=y=>o.value="quick-chat")})):o.value==="ln-factory"?(n(),$(ls,{key:15,onBack:i[17]||(i[17]=y=>o.value="quick-chat")})):o.value==="proto-jin"?(n(),$(rs,{key:16,onBack:i[18]||(i[18]=y=>o.value="quick-chat")})):o.value==="self-splitter"?(n(),$(is,{key:17,onBack:i[19]||(i[19]=y=>o.value="quick-chat")})):o.value==="unconscious"?(n(),$(cs,{key:18,onBack:i[20]||(i[20]=y=>o.value="quick-chat")})):o.value==="quick-chat"?(n(),$(ts,{key:19,onBack:i[21]||(i[21]=y=>o.value="welcome"),onSelectChat:d})):I("",!0)]),_:1}),l.value.show?(n(),$(Mo,{key:0,message:l.value.message},null,8,["message"])):I("",!0)],64))}},nl="设置",ol="语言设置",ll="思考中...",rl="多体讨论",il={title:"测试样例",subtitle:"版本: 1.4",smartParallelBtn:"智能并行",startBtn:"多体讨论",quickChatBtn:"分体聊天"},cl={soul:"心灵空间",correction:"语言纠错",misheard:"空耳查询",stem:"科学世界",culture:"文化探索",dialect:"方言探索","super-translate":"翻译大师","game-misheard":"空耳挑战","game-word":"字音快对","dream-weaver":"梦境编织","fantasy-master":"幻想世界","glitch-space":"失控空间","ln-factory":"小说工厂","proto-jin":"言灵世界","self-splitter":"拆解空间",unconscious:"潜灵空间"},ul="智能并行",dl="已选择 {count} 个智能体",vl={history:"历史",session:"会话",customBg:"自定义背景",customColor:"自定义颜色",restoreBg:"恢复默认"},ml={help:{title:"说明",tabs:{manual:"使用手册",feedback:"开发感想"}},download:{title:"应用下载",android:"下载Android版"}},pl={settings:nl,languageSetting:ol,thinking:ll,groupDiscussion:rl,welcome:il,modes:cl,smartParallel:ul,smartParallelAgents:dl,baseChat:vl,modals:ml},gl="Settings",hl="Language Settings",fl="Thinking...",_l="Multi-agent Discussion",kl={title:"Test case",subtitle:"Version:1.4",smartParallelBtn:"Smart Parallel",startBtn:"Multi-agent Discussion",quickChatBtn:"Split Chat"},bl="Smart Parallel Chat",Cl="{count} Agents Selected",yl={soul:"Soul Space",correction:"Language Correction",misheard:"Misheard Lookup",stem:"Science World",culture:"Cultural Exploration",dialect:"Dialect Exploration","super-translate":"Translation Master","game-misheard":"Misheard Challenge","game-word":"Quick Word Match","dream-weaver":"Dream Weaver","fantasy-master":"Fantasy Realm","glitch-space":"Glitch Space","ln-factory":"Novel Factory","proto-jin":"Kotodama World","self-splitter":"Splitting Space",unconscious:"Unconscious Realm"},$l={history:"History",session:"Session",customBg:"Custom Background",customColor:"Custom Color",restoreBg:"Restore Default"},wl={help:{title:"Help",tabs:{manual:"User Guide",feedback:"Developer Notes"}},download:{title:"App Download",android:"Download Android Version"}},jl={settings:gl,languageSetting:hl,thinking:fl,groupDiscussion:_l,welcome:kl,smartParallel:bl,smartParallelAgents:Cl,modes:yl,baseChat:$l,modals:wl},Tl="設定",Bl="語言設定",Sl="思考中...",Il="多體討論",Al={title:"測試樣例",subtitle:"版本: 1.4",smartParallelBtn:"智能並行",startBtn:"多體討論",quickChatBtn:"分體聊天"},Pl={soul:"心靈空間",correction:"語言糾錯",misheard:"空耳查詢",stem:"科學世界",culture:"文化探索",dialect:"方言探索","super-translate":"翻譯大師","game-misheard":"空耳挑戰","game-word":"字音快對","dream-weaver":"夢境編織","fantasy-master":"幻想世界","glitch-space":"失控空間","ln-factory":"小說工廠","proto-jin":"言靈世界","self-splitter":"拆解空間",unconscious:"潛靈空間"},El="智能並行對話",Ll="已選擇 {count} 個智能體",Hl={history:"歷史",session:"會話",customBg:"自定義背景",customColor:"自定義顏色",restoreBg:"恢復預設"},Dl={help:{title:"說明",tabs:{manual:"使用手冊",feedback:"開發感想"}},download:{title:"應用下載",android:"下載Android版"}},Ml={settings:Tl,languageSetting:Bl,thinking:Sl,groupDiscussion:Il,welcome:Al,modes:Pl,smartParallel:El,smartParallelAgents:Ll,baseChat:Hl,modals:Dl},xl="設定",Rl="言語設定",Ol="考え中…",Vl="多体ディスカッション",zl={title:"テストケース",subtitle:"バージョン: 1.4",smartParallelBtn:"スマート並行",startBtn:"多体ディスカッション",quickChatBtn:"分割チャット"},Nl={soul:"心の空間",correction:"言語訂正",misheard:"空耳検索",stem:"科学の世界",culture:"文化探索",dialect:"方言探索","super-translate":"翻訳マスター","game-misheard":"空耳チャレンジ","game-word":"音文字クイズ","dream-weaver":"ドリームウィーバー","fantasy-master":"ファンタジー世界","glitch-space":"グリッチ空間","ln-factory":"小説工房","proto-jin":"言霊ワールド","self-splitter":"分割空間",unconscious:"潜在領域"},ql="スマート並列チャット",Fl="{count}体のエージェントを選択",Ul={history:"履歴",session:"セッション",customBg:"カスタム背景",customColor:"カスタムカラー",restoreBg:"デフォルトに戻す"},Jl={help:{title:"説明",tabs:{manual:"使用マニュアル",feedback:"開発の感想"}},download:{title:"アプリダウンロード",android:"Android版をダウンロード"}},Wl={settings:xl,languageSetting:Rl,thinking:Ol,groupDiscussion:Vl,welcome:zl,modes:Nl,smartParallel:ql,smartParallelAgents:Fl,baseChat:Ul,modals:Jl},Gl={"zh-Hans":pl,en:jl,"zh-Hant":Ml,jp:Wl},Kl=localStorage.getItem("selectedLanguage")||"zh-Hans",Ql=qs({legacy:!1,locale:Kl,fallbackLocale:"en",messages:Gl}),Zl=[{path:"/",name:"welcome",component:Dt},{path:"/group-discussion",name:"group-discussion",component:Jt},{path:"/quick-chat",component:ts,children:[{path:"soul",component:Wt},{path:"misheard",component:Gt},{path:"correction",component:Kt},{path:"game-misheard",component:Qt},{path:"game-word",component:Zt},{path:"culture",component:Yt},{path:"dialect",component:Xt},{path:"super-translate",component:es},{path:"stem",component:ss},{path:"dream-weaver",component:as},{path:"fantasy-master",component:ns},{path:"glitch-space",component:os},{path:"ln-factory",component:ls},{path:"proto-jin",component:rs},{path:"self-splitter",component:is},{path:"unconscious",component:cs}]}],Yl=Fs({history:Us(),routes:Zl}),Ve=Js(al);Ve.use(Ql);Ve.use(Yl);Ve.mount("#app");
